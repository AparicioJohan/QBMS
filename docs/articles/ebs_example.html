<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="QBMS">
<title>EBS Example • QBMS</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="EBS Example">
<meta property="og:description" content="QBMS">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">QBMS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.5.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/bms_example.html">BMS Example</a>
    <a class="dropdown-item" href="../articles/breedbase_example.html">BreedBase Example</a>
    <a class="dropdown-item" href="../articles/ebs_example.html">EBS Example</a>
    <a class="dropdown-item" href="../articles/gigwa_example.html">GIGWA Example</a>
    <a class="dropdown-item" href="../articles/hwsd2_example.html">FAO HWSD v2 Example</a>
    <a class="dropdown-item" href="../articles/terraclimate_example.html">TerraClimate Example</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/icarda-git/QBMS/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>EBS Example</h1>
                        <h4 data-toc-skip class="author">Khaled
Al-Shamaa</h4>
            
            <h4 data-toc-skip class="date">2024-09-19</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/icarda-git/QBMS/blob/HEAD/vignettes/ebs_example.Rmd" class="external-link"><code>vignettes/ebs_example.Rmd</code></a></small>
      <div class="d-none name"><code>ebs_example.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="qbms">QBMS<a class="anchor" aria-label="anchor" href="#qbms"></a>
</h2>
<p>This R package assists breeders in linking data systems with their
analytic pipelines, a crucial step in digitizing breeding processes. It
supports querying and retrieving phenotypic and genotypic data from
systems like <a href="https://ebs.excellenceinbreeding.org/" class="external-link">EBS</a>, <a href="https://bmspro.io/" class="external-link">BMS</a>, <a href="https://breedbase.org" class="external-link">BreedBase</a>, and <a href="https://github.com/SouthGreenPlatform/Gigwa2" class="external-link">GIGWA</a> (using <a href="https://brapi.org/" class="external-link">BrAPI</a> calls). Extra helper functions
support environmental data sources, including <a href="https://www.climatologylab.org/terraclimate.html" class="external-link">TerraClimate</a>
and FAO <a href="https://gaez.fao.org/pages/hwsd" class="external-link">HWSDv2</a> soil
database.</p>
</div>
<div class="section level2">
<h2 id="ebs">EBS<a class="anchor" aria-label="anchor" href="#ebs"></a>
</h2>
<p>The Enterprise Breeding System (<a href="https://ebs.excellenceinbreeding.org/" class="external-link">EBS</a>) is an open-source
breeding informatics software being developed for crop breeding programs
serving resource-poor farmers in Africa, Asia and Latin America.</p>
<p>EBS connects, merges and builds upon existing breeding software and
data solutions to offer a single powerful tool, so that breeders can
focus on using data to create better varieties, faster.</p>
<p>Development is led by the <a href="https://excellenceinbreeding.org/" class="external-link">CGIAR Excellence in Breeding
Platform</a> and the CGIAR Breeding Resources Initiative, which support
CGIAR and national agricultural research system programs to adopt the
breeding workflows and data management practices required to adopt
EBS.</p>
<p>EBS has been chosen as the preferred data management system of CGIAR
(<a href="https://www.cgiar.org/news-events/news/cgiar-announces-new-breeding-data-strategy-and-endorses-single-data-platform/" class="external-link">source</a>).</p>
</div>
<div class="section level2">
<h2 id="brapi">BrAPI<a class="anchor" aria-label="anchor" href="#brapi"></a>
</h2>
<p>The Breeding API (<a href="https://brapi.org/" class="external-link">BrAPI</a>) project is
an effort to enable interoperability among plant breeding databases.
BrAPI is a standardized RESTful web service API specification for
communicating plant breeding data. This community driven standard is
free to be used by anyone interested in plant breeding data
management.</p>
</div>
<div class="section level2">
<h2 id="oauth-2-0">OAuth 2.0<a class="anchor" aria-label="anchor" href="#oauth-2-0"></a>
</h2>
<p><a href="https://oauth.net/2/" class="external-link">OAuth 2.0</a> is the industry-standard
protocol for authorization. OAuth 2.0 focuses on client developer
simplicity while providing specific authorization flows for web
applications, desktop applications, mobile phones, and living room
devices. This specification and its extensions are being developed
within the <a href="https://www.ietf.org/mailman/listinfo/oauth" class="external-link">IETF
OAuth Working Group</a>.</p>
<blockquote>
<p>Package maintainers might want to build this app in as a fallback,
possibly taking some measures to obfuscate the client ID and secret and
limit its use to your package.</p>
<p>Note that three-legged OAuth always requires the involvement of a
user, so the word “secret” here can be somewhat confusing. It is not a
secret in the same sense as a password or token. But you probably still
want to store it in an opaque way, so that someone else cannot easily
“borrow” it and present an OAuth consent screen that impersonates your
package.</p>
<p>The Client ID is a public identifier of your application, it is not a
secret anyway and any end user can see what it is when the app redirects
them to sign in (e.g., if they use browser tools to view the HTTP
request).</p>
<p>JSON Web Tokens are an open, industry standard RFC 7519 method for
representing claims securely between two parties. <a href="https://jwt.io/" class="external-link">https://jwt.io/</a> allows you to decode, verify
and generate JWT.</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="example">
<em>Example</em><a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load the QBMS library</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://icarda-git.github.io/QBMS/" class="external-link">QBMS</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># config the EBS connection</span></span>
<span><span class="fu"><a href="../reference/set_qbms_config.html">set_qbms_config</a></span><span class="op">(</span>url <span class="op">=</span> <span class="st">'https://cbbrapi-qa.ebsproject.org'</span>, engine <span class="op">=</span> <span class="st">'ebs'</span>, brapi_ver <span class="op">=</span> <span class="st">'v2'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># set your access token manually</span></span>
<span><span class="co"># set_token(readline('token:'))</span></span>
<span></span>
<span><span class="co"># EBS OAuth 2.0 configuration</span></span>
<span><span class="fu"><a href="../reference/login_oauth2.html">login_oauth2</a></span><span class="op">(</span>authorize_url <span class="op">=</span> <span class="st">'https://auth-dev.ebsproject.org/oauth2/authorize'</span>, </span>
<span>             access_url    <span class="op">=</span> <span class="st">'https://auth-dev.ebsproject.org/oauth2/token'</span>, </span>
<span>             client_id     <span class="op">=</span> <span class="st">'&lt;your client id&gt;'</span>, </span>
<span>             client_secret <span class="op">=</span> <span class="st">'&lt;your client secret&gt;'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># list all breeding programs</span></span>
<span><span class="fu"><a href="../reference/list_programs.html">list_programs</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># select a breeding program by name</span></span>
<span><span class="fu"><a href="../reference/set_program.html">set_program</a></span><span class="op">(</span><span class="st">'Irrigated South-East Asia'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># list all trials in the selected program</span></span>
<span><span class="fu"><a href="../reference/list_trials.html">list_trials</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># select a specific trial by name</span></span>
<span><span class="fu"><a href="../reference/set_trial.html">set_trial</a></span><span class="op">(</span><span class="st">'CORB-5272 -test1'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># list all studies (occurancies) in the selected trial</span></span>
<span><span class="fu"><a href="../reference/list_studies.html">list_studies</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># select a specific study (occurance) by name</span></span>
<span><span class="fu"><a href="../reference/set_study.html">set_study</a></span><span class="op">(</span><span class="st">'CORB-5272 -test1-001'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># retrieve study (occurance) metadata/information</span></span>
<span><span class="va">info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_study_info.html">get_study_info</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># retrieve study (occurance) data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_study_data.html">get_study_data</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># retrieve study (occurance) germplasm list</span></span>
<span><span class="va">germplasm</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_germplasm_list.html">get_germplasm_list</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># retrieve traits ontology for the selected trial</span></span>
<span><span class="va">ontology</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_trial_obs_ontology.html">get_trial_obs_ontology</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># retrieve multi-environment (occurencies) data of the selected trial</span></span>
<span><span class="va">MET</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_trial_data.html">get_trial_data</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Khaled Al-Shamaa.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
